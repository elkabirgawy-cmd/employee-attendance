@tailwind base;
@tailwind components;
@tailwind utilities;

@layer components {
  /* Modal Container - Prevent Horizontal Scroll */
  .modal-container {
    @apply fixed inset-0 flex items-center justify-center z-50;
    @apply bg-black bg-opacity-50 overflow-y-auto;
    padding: 0.75rem;
    box-sizing: border-box;
  }

  @media (min-width: 640px) {
    .modal-container {
      padding: 1rem;
    }
  }

  .modal-content {
    @apply bg-white rounded-2xl flex flex-col overflow-hidden;
    width: 92vw;
    max-width: 35rem;
    max-height: 90vh;
    box-sizing: border-box;
  }

  /* Input Field Container - No Overflow */
  .input-wrapper {
    @apply w-full;
    min-width: 0;
    box-sizing: border-box;
  }

  /* Grid Layout - Responsive Date/Time Fields */
  .date-time-grid {
    @apply grid gap-2 w-full;
    grid-template-columns: 1fr;
    box-sizing: border-box;
  }

  @media (min-width: 400px) {
    .date-time-grid {
      grid-template-columns: repeat(2, 1fr);
    }
  }

  /* Compact Form Components */
  .compactField {
    @apply w-full h-11 px-3 text-sm border border-gray-300 rounded-[10px] bg-white;
    @apply focus:outline-none focus:ring-2;
    min-width: 0;
    box-sizing: border-box;
  }

  /* Date Field - Force exact match with other inputs */
  .compactField[type="date"] {
    @apply h-11 px-3;
    line-height: 44px;
    -webkit-appearance: none;
    -moz-appearance: none;
    appearance: none;
    display: flex;
    align-items: center;
  }

  .compactField[type="date"]::-webkit-calendar-picker-indicator {
    cursor: pointer;
  }

  .compactField[type="date"]::-webkit-date-and-time-value {
    text-align: start;
  }

  /* Time Field - Exact same styling as date */
  .compactField[type="time"] {
    @apply h-11 px-3;
    line-height: 44px;
    -webkit-appearance: none;
    -moz-appearance: none;
    appearance: none;
    display: flex;
    align-items: center;
  }

  .compactField[type="time"]::-webkit-calendar-picker-indicator {
    cursor: pointer;
  }

  .compactField[type="time"]::-webkit-datetime-edit {
    line-height: 44px;
    display: flex;
    align-items: center;
  }

  .compactLabel {
    @apply block text-sm font-medium text-gray-700 mb-1;
  }

  .compactStack {
    @apply flex flex-col gap-2;
  }

  .compactTextarea {
    @apply w-full h-[72px] px-3 py-2 text-sm border border-gray-300 rounded-[10px] bg-white resize-none;
    @apply focus:outline-none focus:ring-2;
  }

  .compactSubmitBtn {
    @apply h-11 px-6 rounded-[10px] text-sm font-semibold transition-all;
  }

  /* Perfect Tab Buttons */
  .tabsRow {
    @apply flex gap-2.5 w-full;
  }

  .tabBtn {
    @apply h-11 rounded-[14px] font-semibold transition-all flex items-center justify-center;
    padding: 0 14px;
    flex: 1;
    min-width: 0;
    font-size: 14px;
    line-height: 1;
    gap: 8px;
    white-space: nowrap;
  }

  .tabBtn svg {
    @apply flex-shrink-0;
    width: 18px;
    height: 18px;
  }

  /* Desktop tabs don't have flex:1 */
  @media (min-width: 768px) {
    .tabBtn {
      flex: none;
    }
  }

  /* Payroll/Settings Tab (Blue) */
  .tabBtn--payroll {
    @apply bg-blue-50 border border-blue-200 text-blue-700;
  }

  .tabBtn--payroll:hover {
    @apply bg-blue-100;
  }

  .tabBtn--payroll.tabBtn--active {
    @apply bg-blue-100 border-2 border-blue-500 shadow-sm;
  }

  /* Bonus Tab (Green) */
  .tabBtn--bonus {
    @apply bg-green-50 border border-green-200 text-green-700;
  }

  .tabBtn--bonus:hover {
    @apply bg-green-100;
  }

  .tabBtn--bonus.tabBtn--active {
    @apply bg-green-100 border-2 border-green-500 shadow-sm;
  }

  /* Penalty Tab (Orange) */
  .tabBtn--penalty {
    @apply bg-orange-50 border border-orange-200 text-orange-700;
  }

  .tabBtn--penalty:hover {
    @apply bg-orange-100;
  }

  .tabBtn--penalty.tabBtn--active {
    @apply bg-orange-100 border-2 border-orange-500 shadow-sm;
  }
}

@keyframes badgePopIn {
  0% {
    transform: scale(0.5);
    opacity: 0;
  }
  100% {
    transform: scale(1);
    opacity: 1;
  }
}

@keyframes bottomSheetSlideUp {
  0% {
    transform: translateY(100%);
    opacity: 0.5;
  }
  100% {
    transform: translateY(0);
    opacity: 1;
  }
}

@keyframes bottomSheetFadeIn {
  0% {
    opacity: 0;
  }
  100% {
    opacity: 1;
  }
}

.badge-pop-in {
  animation: badgePopIn 120ms ease-out forwards;
}

.requests-button {
  transition: transform 100ms ease-out, box-shadow 100ms ease-out;
}

.requests-button:active {
  transform: scale(0.97);
}

.requests-arrow {
  transition: transform 180ms ease-in-out;
}

.bottom-sheet-backdrop {
  animation: bottomSheetFadeIn 180ms ease-in-out forwards;
}

.bottom-sheet-content {
  animation: bottomSheetSlideUp 180ms ease-in-out forwards;
}
